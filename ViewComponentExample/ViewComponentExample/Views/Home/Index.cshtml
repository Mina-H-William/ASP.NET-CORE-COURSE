@{
    ViewBag.Title = "Home";
}

<h1>Home</h1>


@* 
@{
    PersonGridModel personGridModel = new PersonGridModel()
    {
        GridTitle = "Persons",
        Persons = new List<Person> {
                    new Person { PersonName = "Mina", JobTitle = "Manger" },
                    new Person { PersonName = "Hany", JobTitle = "Asst.Manger" },
                    new Person { PersonName = "eslam", JobTitle = "Developer" }
                }
    };
}

@await Component.InvokeAsync("Grid",new {
    grid = personGridModel
}) *@

@* 
@{
    PersonGridModel personGridModel2 = new PersonGridModel()
    {
        GridTitle = "Freinds",
        Persons = new List<Person> {
                    new Person { PersonName = "moamen", JobTitle = "QA" },
                    new Person { PersonName = "marwan", JobTitle = "Asst.Manger" },
                    new Person { PersonName = "mohamed", JobTitle = "Developer" }
                }
    };
}

@await Component.InvokeAsync("Grid",new {
grid = personGridModel2
}) *@

<button class="button button-blue-back" id="load-friends-button">Load Friends</button>

<div class="friends-content" hidden></div>

@section Scripts{
    @* <script>
        document.querySelector("#load-friends-button").addEventListener("click",async () => {
            var response = await fetch("/friendslist");
            var content = await response.text();

            document.querySelector(".friends-content").hidden = false;
            document.querySelector(".friends-content").innerHTML = content;
        })
    </script> *@
    @{
        // add this script to script file in wwwroot rather than keeping it in views
    }
    <script src="Friends.js"></script>
}

